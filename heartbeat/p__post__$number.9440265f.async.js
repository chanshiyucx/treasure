(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{ejR0:function(e,t,a){e.exports={container:"container___25vFq",wapper:"wapper___3zToX",post:"post___1ZgIo",loading:"loading___23PQ4",lincenses:"lincenses___34-m-","post-squares":"post-squares___1Fw0-"}},p4jX:function(e,t,a){"use strict";var n=a("284h"),s=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(a("MVZn")),o=n(a("MebM")),l=a("MuoO"),p=s(a("dnEz")),d=s(a("LvDl")),i=s(a("UbMB")),c=a("Kvkj"),u=s(a("20nU")),m=s(a("ejR0")),f=u.default.gitalkOption,v=i.default.bind(m.default);class _ extends o.PureComponent{constructor(){super(...arguments),this.renderGitalk=(()=>{var e=this.props.post,t=new p.default((0,r.default)({},f,{title:e.title}));t.render(`gitalk-${e.id}`)})}componentDidMount(){var e=this.props,t=e.dispatch,a=e.match,n=a.params.number;t({type:"app/queryPost",payload:{number:n}})}componentWillReceiveProps(e){var t=this.props,a=t.dispatch,n=t.post;n.number&&+n.number!==+e.match.params.number&&a({type:"app/queryPost",payload:{number:e.match.params.number}})}componentWillUnmount(){this.props.dispatch({type:"app/updateState",payload:{post:{}}})}render(e){var t=e.post,a=e.prevPost,n=e.nextPost,s=e.loading,r=s||d.default.isEmpty(t);return o.default.createElement("div",{class:v("container")},o.default.createElement("div",{class:v("wapper")},o.default.createElement(c.Transition,{visible:!r,animation:"drop",duration:600,onShow:this.renderGitalk},o.default.createElement("div",{class:v("post")},o.default.createElement(c.PostBody,t),o.default.createElement(c.Reward,null),o.default.createElement("div",{class:v("lincenses")},o.default.createElement("a",{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh",rel:"noopener noreferrer",target:"_blank"},"\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528-\u76f8\u540c\u65b9\u5f0f\u5171\u4eab 4.0 \u56fd\u9645")),o.default.createElement("div",{class:v("post-squares")},o.default.createElement(c.PostPV,a),o.default.createElement(c.PostPV,n)))),r&&o.default.createElement(c.Loading,{className:v("loading")})),!r&&t.id&&o.default.createElement("div",{id:`gitalk-${t.id}`}))}}var h=(0,l.connect)(e=>{var t=e.app,a=e.loading,n=t.post,s=t.prevPost,r=t.nextPost;return{post:n,prevPost:s,nextPost:r,loading:a.effects["app/queryPost"]}})(_);t.default=h}}]);