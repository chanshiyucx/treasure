(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d1f788c"],{"23bf":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"nickname"}},[n("van-nav-bar",{staticClass:"header",attrs:{title:"设置昵称","left-arrow":""},on:{"click-left":e.onClickLeft}}),n("van-field",{attrs:{center:"",clearable:""},model:{value:e.userInfo.nickname,callback:function(t){e.$set(e.userInfo,"nickname",t)},expression:"userInfo.nickname"}},[n("van-button",{attrs:{slot:"button",disabled:e.isDisabled,size:"mini",type:"primary"},on:{click:e.handleSubmit},slot:"button"},[e._v("保存")])],1),n("p",{staticClass:"tips"},[e._v("好名字可以让你的朋友更容易记住你。")])],1)},a=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),i=n("bd86"),c=n("2f62"),o=n("b775");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(i["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={name:"nickname",computed:f({},Object(c["b"])(["userInfo"]),{isDisabled:function(){return""===this.userInfo.nickname.trim()}}),methods:f({},Object(c["c"])({setUserInfo:"setUserInfo"}),{onClickLeft:function(){this.$router.go(-1)},handleSubmit:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=/^[a-zA-Z0-9\u4e00-\u9fa5]{4,12}$/,t.test(this.userInfo.nickname)){e.next=3;break}return e.abrupt("return",this.$toast.fail("用户名必须为4-12位中文字母或数字"));case 3:return e.prev=3,n={id:this.userInfo.id,nickname:this.userInfo.nickname},e.next=7,Object(o["a"])({url:"/user/update",method:"POST",data:n});case 7:if(r=e.sent,200===r.status){e.next=10;break}return e.abrupt("return",this.$toast.fail(r.msg));case 10:this.$toast.success(r.msg),this.setUserInfo(r.data),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](3),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[3,14]])}));function t(){return e.apply(this,arguments)}return t}()})},b=l,p=(n("d935"),n("2877")),d=Object(p["a"])(b,r,a,!1,null,null,null);t["default"]=d.exports},d935:function(e,t,n){"use strict";var r=n("edd2"),a=n.n(r);a.a},edd2:function(e,t,n){}}]);
//# sourceMappingURL=chunk-7d1f788c.8b8429de.js.map