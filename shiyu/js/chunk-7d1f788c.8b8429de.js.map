{"version":3,"sources":["webpack:///./src/views/Nickname/index.vue?ea3a","webpack:///src/views/Nickname/index.vue","webpack:///./src/views/Nickname/index.vue?6348","webpack:///./src/views/Nickname/index.vue?85d7","webpack:///./src/views/Nickname/index.vue?c71b"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","onClickLeft","model","value","userInfo","callback","$$v","$set","expression","isDisabled","handleSubmit","slot","_v","staticRenderFns","name","computed","nickname","trim","methods","$router","go","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,aAAa,CAACF,EAAG,cAAc,CAACG,YAAY,SAASD,MAAM,CAAC,MAAQ,OAAO,aAAa,IAAIE,GAAG,CAAC,aAAaR,EAAIS,eAAeL,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,GAAG,UAAY,IAAII,MAAM,CAACC,MAAOX,EAAIY,SAAiB,SAAEC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIY,SAAU,WAAYE,IAAME,WAAW,sBAAsB,CAACZ,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,SAAS,SAAWN,EAAIiB,WAAW,KAAO,OAAO,KAAO,WAAWT,GAAG,CAAC,MAAQR,EAAIkB,cAAcC,KAAK,UAAU,CAACnB,EAAIoB,GAAG,SAAS,GAAGhB,EAAG,IAAI,CAACG,YAAY,QAAQ,CAACP,EAAIoB,GAAG,wBAAwB,IAC7oBC,EAAkB,G,gpBCetB,OACEC,KAAM,WACNC,SAAU,EAAZ,GACA,6BADA,CAEIN,WAFJ,WAGM,MAAyC,KAAlChB,KAAKW,SAASY,SAASC,UAGlCC,QAAS,EAAX,GACA,gBACI,YAAJ,gBAFA,CAIIjB,YAJJ,WAKMR,KAAK0B,QAAQC,IAAI,IAEnB,aAPJ,kKAQA,qCACA,+BATA,yCAUA,wCAVA,uBAaA,GACA,oBACA,iCAfA,SAiBA,gBACA,mBACA,cACA,SApBA,UAiBA,EAjBA,OAsBA,eAtBA,0CAuBA,yBAvBA,QAyBA,2BACA,yBA1BA,qDA4BA,kBA5BA,mHCxB8V,I,wBCQ1VC,EAAY,eACd,EACA9B,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAQ,E,2CCnBf,yBAA2iB,EAAG,G","file":"js/chunk-7d1f788c.8b8429de.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"nickname\"}},[_c('van-nav-bar',{staticClass:\"header\",attrs:{\"title\":\"设置昵称\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\"},model:{value:(_vm.userInfo.nickname),callback:function ($$v) {_vm.$set(_vm.userInfo, \"nickname\", $$v)},expression:\"userInfo.nickname\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"disabled\":_vm.isDisabled,\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit},slot:\"button\"},[_vm._v(\"保存\")])],1),_c('p',{staticClass:\"tips\"},[_vm._v(\"好名字可以让你的朋友更容易记住你。\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"nickname\">\r\n    <van-nav-bar title=\"设置昵称\" class=\"header\" left-arrow @click-left=\"onClickLeft\" />\r\n    <van-field v-model=\"userInfo.nickname\" center clearable>\r\n      <van-button :disabled=\"isDisabled\" slot=\"button\" size=\"mini\" type=\"primary\" @click=\"handleSubmit\"\r\n        >保存</van-button\r\n      >\r\n    </van-field>\r\n    <p class=\"tips\">好名字可以让你的朋友更容易记住你。</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex'\r\nimport request from '@/utils/request'\r\n\r\nexport default {\r\n  name: 'nickname',\r\n  computed: {\r\n    ...mapGetters(['userInfo']),\r\n    isDisabled() {\r\n      return this.userInfo.nickname.trim() === ''\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setUserInfo: 'setUserInfo'\r\n    }),\r\n    onClickLeft() {\r\n      this.$router.go(-1)\r\n    },\r\n    async handleSubmit() {\r\n      const validate = /^[a-zA-Z0-9\\u4e00-\\u9fa5]{4,12}$/\r\n      if (!validate.test(this.userInfo.nickname)) {\r\n        return this.$toast.fail('用户名必须为4-12位中文字母或数字')\r\n      }\r\n      try {\r\n        const req = {\r\n          id: this.userInfo.id,\r\n          nickname: this.userInfo.nickname\r\n        }\r\n        const res = await request({\r\n          url: '/user/update',\r\n          method: 'POST',\r\n          data: req\r\n        })\r\n        if (res.status !== 200) {\r\n          return this.$toast.fail(res.msg)\r\n        }\r\n        this.$toast.success(res.msg)\r\n        this.setUserInfo(res.data)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scope>\r\n@import url('./index.less');\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=055604fd&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&scope=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&scope=true&\""],"sourceRoot":""}